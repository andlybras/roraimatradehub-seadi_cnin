{% extends 'base.html' %}
{% load static %}
{% load recaptcha %} {% block title %}Crie seu Perfil | Roraima Trade Hub{% endblock %}

{% block content %}
<div class="registration-container">
    <div class="registration-panel">
        <h1 class="page-title" style="margin-bottom: 30px;">Crie seu Perfil Empresarial</h1>
        
        <form method="post" id="registrationForm">
            {% csrf_token %}

            {% if form.non_field_errors %}
                <div class="form-errors" style="color: #ff9999; margin-bottom: 15px; text-align: left;">
                    {% for error in form.non_field_errors %}
                        <p><strong>Erro:</strong> {{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}

            <div class="form-group">
                <label>{{ form.user_type.label }}</label>
                <div class="user-type-selector">
                    {% for radio in form.user_type %}
                    <div class="radio-button-wrapper">
                        {{ radio.tag }}
                        <label for="{{ radio.id_for_label }}">{{ radio.choice_label }}</label>
                    </div>
                    {% endfor %}
                </div>
                <div class="backend-error">{{ form.user_type.errors }}</div>
            </div>

            <div class="form-group">
                <label for="{{ form.username.id_for_label }}">{{ form.username.label }}</label>
                {{ form.username }}
                <div class="backend-error">{{ form.username.errors }}</div>
            </div>

            <div class="form-group">
                <label for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
                {{ form.email }}
                <small class="form-help-text">{{ form.email.help_text }}</small>
                <div class="validation-message" id="email-error"></div>
                <div class="backend-error">{{ form.email.errors }}</div>
            </div>

            <div class="form-group">
                <label for="{{ form.email2.id_for_label }}">{{ form.email2.label }}</label>
                {{ form.email2 }}
                <div class="validation-message" id="email2-error"></div>
                <div class="backend-error">{{ form.email2.errors }}</div>
            </div>

            <div class="form-group">
                <label for="{{ form.password1.id_for_label }}">{{ form.password1.label }}</label>
                {{ form.password1 }}
                <div id="password-feedback">
                    <div class="validation-rules"></div>
                </div>
            </div>

            <div class="form-group">
                <label for="{{ form.password2.id_for_label }}">{{ form.password2.label }}</label>
                {{ form.password2 }}
                <div class="validation-message" id="password2-error"></div>
            </div>

            <div class="form-group" style="display: flex; justify-content: center; margin-top: 20px; margin-bottom: 20px;">
                {{ form.captcha }}
            </div>
            
            <button type="submit" id="submitButton" class="grid-item" disabled>
                Criar meu Perfil
            </button>
        </form>
    </div>
</div>
{% endblock %}