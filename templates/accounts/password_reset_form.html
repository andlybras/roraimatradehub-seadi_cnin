{% extends 'base.html' %}
{% block title %} Recuperar Senha{% endblock %}
{% block content %}
<div class="registration-container">
    <div class="registration-panel">
        <h1 class="page-title" style="margin-bottom: 30px;">Recupere sua Senha</h1>
        <p style="text-align: center; margin-bottom: 25px;">Digite seu e-mail abaixo e enviaremos um link para vocÃª definir uma nova senha.</p>
        <form method="post" id="resetForm">
            {% csrf_token %}
            <div class="form-group">
                <label for="{{ form.email.id_for_label }}">E-mail</label>
                {{ form.email }}
                {% if form.email.errors %}
                {% for error in form.email.errors %}
                <p style="color: #ff9999; font-size: 0.9rem; margin-top: 5px;">{{ error }}</p>
                {% endfor %}
                {% endif %}
            </div>
            <button type="submit" id="submitButton" class="grid-item dark" style="width: 60%; max-width: 300px; margin: 50px auto 0 auto;" disabled>
                Enviar Link
            </button>
        </form>
    </div>
</div>
{% endblock %}
{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const emailInput = document.querySelector('#resetForm input[type="email"]');
    const submitButton = document.getElementById('submitButton');
    if (emailInput && submitButton) {
        function validateForm() {
            const emailValue = emailInput.value.trim();
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            const isEmailFormatValid = emailRegex.test(emailValue);
            submitButton.disabled = !isEmailFormatValid;
        }
        emailInput.addEventListener('input', validateForm);
    }
});
</script>
{% endblock %}