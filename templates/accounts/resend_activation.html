{% extends 'base.html' %}
{% block title %}Reenviar Link de Ativação | Roraima Trade Hub{% endblock %}
{% block content %}
<div class="registration-container">
    <div class="registration-panel">
        <h1 class="page-title" style="margin-bottom: 30px;">Solicite Link de Ativação</h1>
        <p style="font-size: 1.1rem; line-height: 1.6; text-align: center; margin-bottom: 30px;">
            Perdeu o e-mail de ativação ou o link expirou? Digite seu e-mail abaixo e enviaremos um novo link para você.
        </p>
        <form method="post" id="resendForm">
            {% csrf_token %}
            <div class="form-group">
                <label for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
                {{ form.email }}
                {% if form.email.errors %}
                <div style="color: #ff9999; font-size: 0.9rem; margin-top: 5px;">
                    {% for error in form.email.errors %}{{ error }}{% endfor %}
                </div>
                {% endif %}
            </div>
            <button type="submit" id="submitButton" class="grid-item dark" style="width: 60%; max-width: 300px; margin: 50px auto 0 auto;" disabled>
                Enviar
            </button>
        </form>
    </div>
</div>
{% endblock %}
{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const emailInput = document.querySelector('#resendForm input[type="email"]');
    const submitButton = document.getElementById('submitButton');
    if (emailInput && submitButton) {
        function validateForm() {
            const emailValue = emailInput.value.trim();
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            const isEmailFormatValid = emailRegex.test(emailValue);
            submitButton.disabled = !isEmailFormatValid;
        }
        emailInput.addEventListener('input', validateForm);
    }
});
</script>
{% endblock %}